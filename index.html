<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Text-to-Speech Web Service</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Text-to-Speech Web Service</h1>
            <p>テキストを音声に変換して、MP3ファイルとしてダウンロードできます</p>
        </header>

        <!-- APIキー設定セクション -->
        <section class="api-key-section">
            <h2>APIキー設定</h2>
            <div class="input-group">
                <label for="api-key">Google Cloud Text-to-Speech APIキー</label>
                <div class="password-input">
                    <input type="password" id="api-key" placeholder="APIキーを入力してください">
                    <button type="button" id="toggle-api-key" class="toggle-btn">表示</button>
                </div>
                <button id="save-api-key" class="btn btn-primary">保存</button>
            </div>
            <div id="api-key-status" class="status-message"></div>
        </section>

        <!-- テキスト入力セクション -->
        <section class="text-input-section">
            <h2>テキスト入力</h2>
            <div class="input-group">
                <label for="text-input">変換したいテキスト</label>
                <textarea id="text-input" placeholder="ここにテキストを入力してください..." maxlength="5000"></textarea>
                <div class="character-counter">
                    <span id="char-count">0</span> / 5,000 文字
                </div>
            </div>
        </section>

        <!-- 音声設定セクション -->
        <section class="voice-settings-section">
            <h2>音声設定</h2>
            <div class="settings-grid">
                <div class="setting-group">
                    <label for="voice-select">声の種類</label>
                    <select id="voice-select">
                        <option value="ja-JP-Standard-A">女性1（標準）</option>
                        <option value="ja-JP-Standard-B">女性2（標準）</option>
                        <option value="ja-JP-Standard-C">男性1（標準）</option>
                        <option value="ja-JP-Standard-D">男性2（標準）</option>
                        <option value="ja-JP-Wavenet-A">女性A（高品質）</option>
                        <option value="ja-JP-Wavenet-B">女性B（高品質）</option>
                        <option value="ja-JP-Wavenet-C">男性A（高品質）</option>
                        <option value="ja-JP-Wavenet-D">男性B（高品質）</option>
                    </select>
                </div>
                <div class="setting-group">
                    <label for="pitch-range">ピッチ</label>
                    <input type="range" id="pitch-range" min="-20" max="20" value="0" step="1">
                    <span id="pitch-value">0</span>
                </div>
                <div class="setting-group">
                    <label for="speed-range">スピード</label>
                    <input type="range" id="speed-range" min="0.25" max="4.0" value="1.0" step="0.1">
                    <span id="speed-value">1.0</span>
                </div>
            </div>
        </section>

        <!-- 生成・ダウンロードセクション -->
        <section class="generation-section">
            <h2>音声生成</h2>
            <div class="button-group">
                <button id="preview-btn" class="btn btn-preview" disabled>プレビュー（30文字）</button>
                <button id="generate-btn" class="btn btn-generate" disabled>音声を生成</button>
            </div>
            <div id="preview-section" class="preview-section" style="display: none;">
                <p>プレビュー音声</p>
                <audio id="preview-audio" controls></audio>
            </div>
            <div id="progress-container" class="progress-container" style="display: none;">
                <div class="progress-bar">
                    <div id="progress-fill" class="progress-fill"></div>
                </div>
                <div id="progress-text" class="progress-text">処理中...</div>
            </div>
            <div id="download-section" class="download-section" style="display: none;">
                <p>音声の生成が完了しました！</p>
                <button id="download-btn" class="btn btn-download">MP3をダウンロード</button>
            </div>
            <div id="error-message" class="error-message" style="display: none;"></div>
        </section>
    </div>

    <script src="crypto-js.min.js"></script>
    <script src="script.js"></script>
</body>
</html>